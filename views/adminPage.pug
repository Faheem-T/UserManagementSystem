extends layout

block content
  .d-flex.flex-column.align-items-center.justify-content-center.p-5.vh-100
    h1 ADMIN PAGE
    h2 Welcome #{name}
    if users
      // Search bar
      form.d-flex.align-items-center.mb-2(action="/home", method="POST")
        input.form-control.mb-0(type="text" name="searchText" placeholder="Search for user")
        button.btn.btn-primary(type="submit", value="login") Search

      // User table
      table.table.table-striped.table-hover
        thead  
          tr 
            th ID
            th Username
            th email
            th
            th
        for user in users
          tr
            td!=user._id
            td!=user.username
            td!=user.email
            td
              a(href=`editUser/${user.id}`) 
                button.btn.btn-primary Edit
            td
              a(href=`deleteUser/${user.id}`)
                button.btn.btn-primary Delete
    
    else
      div The are no users...
    

    a(href="/createUser")
      button.btn.btn-primary Create new user

    form.mt-auto.d-flex.justify-content-center(action="/logout" method="POST")
      button.btn.btn-primary(type="submit") Log Out
    
    // error &  success messages

    // import toast mixin
    include mixins/toast
    include mixins/toastScript
    // mixin to render messages
    +toast(success, false)
    +toast(errors, true)
    +toastScript()

